<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Asynchronous Coding</title>
	<link rel="stylesheet" type="text/css" href="mdstyle.css">
	<style type="text/css">
		#executor:hover {
			position: relative;
		}
		#executor:hover:after {
			content: url(executor.png);
			display: block;
			position: absolute;
			left: 123px;
			top: 56px;
		}
	</style>
</head>
<body>
	<div class="textCenter">
		<span id="titleContainer">
			<h1>
				Asynchronous Coding
			</h1>
		</span>
	</div>
	<div class="topic">
		To create a new promise function:<br>
		<code>
			const myNewPromise = new Promise(someFunction);
		</code><br>
		where 'someFunction' is your '<strong id="executor">executor</strong>' function.<br>
		Example of an executor function:<br>
		<code>
			const someFunction = (resolve, reject) =&gt; {<br>
				if(someCondition){<br>
					resolve('I resolved');<br>
				}<br>
				else{<br>
					reject('I rejected');<br>
				}<br>
			}<br>
		</code><br>
		So one example of how to use asynchronous functions like this would be to use a setTimeout command, which would wait for, up to, a given time.<br>
		<code>
			setTimeout(myFunctionWhichMayTakeAWhile, 2000);
		</code><br>
		To handle the case where the promise passes (where the 'resolve' condition is true), we use .then()<br>
		<code>
			const prom = new Promise((resolve, reject) =&gt; {<br>
				resolve('I resolved');<br>
				});<br>
				const functionToHandleSuccess = (resolvedValue) =&gt; {<br>
					console.log(resolvedValue);
				};<br>
				prom.then(functionToHandleSucess);<br>
		</code>
		This code will log the resolved value, here it is: 'I resolved'. <br> 
		The full format using .then(), would be prom.then(a,b); where a is the function handling the 'resolve' condition, and b is the function handling the 'reject' condition.<br>
		You can also write: <code>prom.then(a).then(null, b)</code> which has the same meaning.<br>
		You can also replace the second 'then' with 'catch' which then only needs one thingy in the brackets. <br>
		If you want a bunch of promises to all be checked together, use <code>Promise.all()</code><br>
		<code>
			let myPromises = Promise.all([returnsPromOne(), returnsPromTwo(), returnsPromThree()]);<br>
			myPromises<br>
			.then((arrayOfValues) =&gt; {<br>
				console.log(arrayOfValues);<br>
			})<br>
			.catch((rejectionReason) =&gt; {<br>
				console.log(rejectionReason);<br>
			});<br>
		</code>
		Async functions can be defined as follows:<br>
		<code>
			async function myFunc() {};<br>
			myFunc();<br>
		</code><br>
		or<br>
		<code>
			const myFunc = async () =&gt; {};<br>
			myFunc();<br>
		</code>
		These async functions always return a promise, so you must correctly handle the returned promise.<br>
		Example:<br>
		<code>
			async function myPromise(){ return 3; }<br>
			myPromise()<br>
			.then(resolvedValue =&gt; {<br>
				console.log(resolvedValue);<br>
			})<br>
		</code>
		This will log '3' to the console. As the thing that is returned is a promise with a resolved value of 3, we require the .then() to process the resolved value.<br>
		Comparing promise with await/async:<br>
		<code>
			function handleAPromise() {<br>
				myPromise().then((resolvedValue) =&gt; {<br>
					console.log(resolvedValue);<br>
				});<br>
			}<br>
		</code><br>
		That's how you handle a returned promise with promises. With async/await, it's like:<br>
		<code>
			async function handleAPromise() {<br>
				let resolvedValue = await myPromise();<br>
				console.log(resolvedValue);<br>
			}<br>
		</code>

	</div>
	<br>
	<div class="topic">
		<!--Closing div tag marking end of section -->
	</div>
	<footer>
		<h4>
			<a href="index.html">
				Back to Main
			</a>
		</h4>
	</footer>
</body>
</html>
